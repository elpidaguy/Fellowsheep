<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
<style type="text/css">
.jumbotron {
  color: white;
  /*text-align: center;*/
  /*text-shadow: 2px 2px 8px black;*/
  min-height: 250px;
  text-indent: 5em;
}
</style>

<div ng-init="checkLogin();gettotalpassbookBalance();">
  <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-header">
        <button type="button" id="sidebarCollapse" class="btn btn-primary w3-text-white w3-hover-red btn-xs navbar-brand">ESPL <i class="fa fa-bars" aria-hidden="true"></i></button>
      </div>

      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li>
            <a href="#accountadminDashboard"><i class="fa fa-tachometer fa-lg" aria-hidden="true"></i> Dashboard</a>
          </li>
          <li>
            <a href="#studentsInOut"><i class="fa fa-user fa-lg" aria-hidden="true"></i> Students</a>
          </li>
          <li>
            <a href="#papersinout"><i class="fa fa-file fa-lg" aria-hidden="true"></i> Exam Paper</a>
          </li>
          <li>
            <a href="#accountsalary"><i class="fa fa-money fa-lg" aria-hidden="true"></i> Salary</a>
          </li>
          <li class="active">
            <a href="#accountPassBook"><i class="fa fa-university fa-lg" aria-hidden="true"></i> Passbook</a>
          </li>
          <li>
            <a href="#chequerecords"><i class="fa fa-briefcase fa-lg" aria-hidden="true"></i> Cheque Records</a>
          </li>
          <li >
            <a href="#accounterrors"><i class="fa fa-times-circle fa-lg" aria-hidden="true"></i> Account Error</a>
          </li>
           <li >
            <a href="#feedbackadmin"><i class="fa fa-commenting fa-lg" aria-hidden="true"></i> Parent's FeedBack</a>
          </li>

        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li>
            <div class="dropdown" ng-show="accounts">
              <button style="display: block; margin-top: 15px;" class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown"><i class="fa fa-user fa-lg" aria-hidden="true"></i> {{loginData.staffname}}
                <span class="caret"></span></button>
                <ul class="dropdown-menu">
                  <li><a href="#changepwd"><i class="fa fa-cog fa-lg" aria-hidden="true"></i> Settings</a></li>
                  <li><a href="" target="_self" ng-click="logout('/')"><i class="fa fa-sign-out fa-lg" aria-hidden="true"></i> Logout</a></li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
  </nav>
  <div class="container-fluid" style="margin-top:70px;">
    
    <div >
    </div>


<div class="w3-row-padding" style="margin-top: 20px">

<div class="w3-col m3">
        <div class="panel panel-info">
          <div class="panel-heading">
            <h3 class="panel-title">Total Records</h3>
          </div>
          <div class="panel-body">
            <div class="w3-left"><i style="color: #c842f4" class="fa fa-pencil-square-o  w3-xxxlarge"></i></div>
            <div class="w3-right">
              <h1>{{Record}}</h1>
            </div>
            <div class="w3-clear"></div>
          </div>
        </div>
        </div>
 

 

    <div class="w3-col m3">
        <div class="panel panel-success">
          <div class="panel-heading">
            <h3 class="panel-title" ng-click="balanceclick()">Current Balance</h3>
          </div>
          <div class="panel-body">
            <div class="w3-left"><i style="color: #5cb85c" class="fa fa-inr w3-xxxlarge"></i></div>
            <div class="w3-right">
              <h1>{{amounttot}}</h1>
            </div>
            <div class="w3-clear"></div>
          </div>
        </div>
        </div>

        <div class="w3-col m3">
        <div class="panel panel-primary">
          <div class="panel-heading">
            <h3 class="panel-title">Passbook IN</h3>
          </div>
          <div class="panel-body">
            <div class="w3-left"><i style="color: #428bca" class="fa fa-inr w3-xxxlarge"></i></div>
            <div class="w3-right">
              <h1>{{passbook_in}}</h1>
            </div>
            <div class="w3-clear"></div>
          </div>
        </div>
        </div>
 
 <div class="w3-col m3">
        <div class="panel panel-primary">
          <div class="panel-heading">
            <h3 class="panel-title">Passbook OUT</h3>
          </div>
          <div class="panel-body">
            <div class="w3-left"><i style="color: #5bc0de" class="fa fa-inr w3-xxxlarge"></i></div>
            <div class="w3-right">
              <h1>{{passbook_out}}</h1>
            </div>
            <div class="w3-clear"></div>
          </div>
        </div>
        </div>

      
    
</div>


 <div style="margin-top:20px">
<div>
<div class="row">
      <div class="col-md-12">

        <!--<div class="col-sm-2">
                <h4>Date</h4>
                <datepicker date-format="dd-MM-yyyy">
                   <input ng-model="date" type="text" class="form-control" placeholder="Rs" aria-label="Recipient's username" aria-describedby="basic-addon2" ng-model="date">
                </datepicker>
            </div>

            <div class="col-sm-2">
                <h4>Cheque No</h4>
              <input type="number" class="form-control" placeholder="Rs" aria-label="Recipient's username" aria-describedby="basic-addon2" ng-model="chequeno">

            </div>

            <div class="col-sm-2">
                <h4>Cheque Issue To</h4>
            <input type="text" class="form-control" placeholder="name" aria-label="Recipient's username" aria-describedby="basic-addon2" ng-model="chequeissueTo">

              </div>

              <div class="col-sm-2">
                <h4>Amount of Cheque</h4>
                 <input type="number" class="form-control" placeholder="Rs" aria-label="Recipient's username" aria-describedby="basic-addon2" ng-model="amountchq">

              </div>


            <div class="col-sm-2">
                <h4>Cheque Status</h4>
                <select class="form-control cap"  id="board" ng-model="selected_status">
               <option disabled selected value> -- select an option -- </option>
               <option  selected value></option>
               <option ng-value="branch.branchname">Clear</option>
               <option ng-value="branch.branchname">Pending</option>
               
            </select>
              </div>

            <div class="col-sm-2">
                <h4>Cheque Option</h4>
                <select class="form-control cap"  id="board" ng-model="selected_option" ng-change="saveChqueRecord(date,chequeno,chequeissueTo,amountchq,selected_status, selected_option)">
               <option disabled selected value> -- select an option -- </option>
               <option  selected value></option>
               <option ng-value="branch.branchname">Debit</option>
               <option ng-value="branch.branchname">Credit</option>
               
            </select>
              </div>
-->

<div class="row">  
 <center>
 <button type="button" class="btn btn-primary" data-toggle="modal"  ng-click="showdashpassbook()"><i class="fa fa-home" aria-hidden="true"></i>HOME</button>
 
 <button type="button" class="btn btn-success" data-toggle="modal"  ng-click="modelcall()"><i class="fa fa-cogs" aria-hidden="true"></i>  ADD TRANSACTIONS</button>


 <button type="button" class="btn btn-danger" data-toggle="modal"  ng-click="assigncheque()"><i class="fa fa-clone" aria-hidden="true"></i> ASSIGN/VIEW CHEQUES</button>
 
 <button type="button" class="btn btn-warning" data-toggle="modal"  ng-click="showchqgrid()"><i class="fa fa-clone" aria-hidden="true"></i> CHEQUE DETAILS</button>
 </center>
  </div>

             
                </div>
             </div>
          </div>
    
</div>



      <div style="margin-top: 10px" class="col-sm-9 col-md-9">

<table style="margin-top:30px" st-set-filter="customFilter" st-table="displayedCollection" st-safe-src="currentrecords"  class="table table-condensed table-bordered w3-white w3-card" > 
      <thead  >
      <tr style="color: white;background-color: #1e59fc">
        <th ng-repeat="head in headers" st-sort="{{head}}">
          {{head|titlecase}} 
        </th>
        <th ng-show="deletevar">OPERATIONS</th>   
      </tr>

      <tr>
        <th ng-repeat="head in headers">
       <input st-search="{{head}}" class="input-sm form-control" type="text" value="" ng-value=""/>
        </th>
        <th ng-show="deletevar"></th>   
      </tr>

      <!--<tr>
        <th ng-repeat="h1 in headers" style="color:#000" class="searchfields">
              <st-select-distinct collection="currentrecords" predicate="{{h1}}"></st-select-distinct>
        </th>
      </tr>-->
        



      </thead>
      <tbody>
      <tr ng-repeat="rec in displayedCollection">
      <td ng-repeat="head in headers"> {{rec[head]}}</td>   
      <td ng-show="deletevar"><button type="button" ng-click='deletepassbook(rec)' class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-remove"></button></td>
      <!-- <td style="height: auto;"> <input type="checkbox" class="form-control" ng-click="addToExpense(rec)"/> </td> -->
      
      </tr>
      </tbody>
      <tfoot>
        
        <tr>
        <td colspan="{{headers.length}}" class="text-center">
          <div st-pagination="" st-items-by-page="itemsByPage"></div>
        </td>
      </tr>
      </tfoot>

      </table>

</div>

          <div style="margin-top: 40px">

        <div class="col-sm-3 col-md-3 w3-padding w3-card w3-white boxbor">
          <div class="w3-center">
            <!-- <i style="font-size: 40px" class="fa fa-user" aria-hidden="true"></i> --> <img src="assets/icons/bank.png" alt="staff list" height="40%" width="40%"> <span style="font-size: 30px"><br>Bank Passbook</span><hr>
          </div>
          <div align="center">
            <h2>Filters</h2>
          <a href="#accountPassBook" target="_self"><button style="margin-left: 5px;" class="btn btn-primary btn-sm w3-center" data-toggle="tooltip" title="Clear Filters" >Clear All Filters</button></a>
          </div>
          <div class="col-lg-10 col-md-10">


            <h4>By Mode</h4>
            <select class="form-control cap"  id="board" ng-model="selected_filtermode" ng-change="filter()">
               <option disabled selected value> -- select an option -- </option>
               <option  selected value></option>
               <option ng-value="branch.branchname">Cheque</option>
               <option ng-value="branch.branchname">cash</option> 
               <option ng-value="branch.branchname">Transfer</option>

            </select>
 

             <h4>By Type</h4>
            <select class="form-control cap"  id="board" ng-model="selected_filtertype" ng-change="filter()">
               <option disabled selected value> -- select an option -- </option>
               <option  selected value></option>
               <option ng-value="branch.branchname">In</option>
               <option ng-value="branch.branchname">Out</option>
            </select>
 
<!--  <select class="form-control" id="select" ng-model="f.gender"> 
<option value="">Select Gender</option>
<option ng-repeat="y in staff" style="background-color: black;color: white">{{y.gender}}</option>

</select> -->
</div>


</div>


      </div>



    </div>

  
</div>

  <!--  <table class="table table-condensed table-bordered " > 
      <thead  style="color: white;background-color: #1e59fc">
        <tr>
        <th ng-repeat="head in headers">{{head}} </th>
      </tr>
      </thead>
      <tr ng-repeat="rec in records">
        <td ng-repeat="head in headers"> {{rec[head]}}</td>       
      </tr>


    </table> -->


  </div>
</div>


<!--model for credit/debit amount-->
<div class="modal fade" id="modelcreditdebit" tabindex="-1" role="dialog" aria-labelledby="modelcreditdebitLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="modelcreditdebitLabel"><center> <p class="bg-primary">ESPL PASSBOOK ENTRY</p></center></h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <div class="row">
        <!-- Half of the modal-body div-->
       
        <div class="col-xs-6">
            <h5>Payment Option</h5>

            <select class="form-control cap"  id="board" ng-model="selected_paymentoption" ng-change="showhideval()">
               <option disabled selected value> -- select an option -- </option>
               <option  selected value></option>
               <option ng-value="branch.branchname">Cheque</option>
               <option ng-value="branch.branchname">Cash</option>
               <option ng-value="branch.branchname">Transfer</option>
            </select>
        </div>

        <div class="col-xs-6">
            <h5>Amount Type</h5>

            <select class="form-control cap"  id="board" ng-model="selected_amountype">
               <option disabled selected value> -- select an option -- </option>
               <option  selected value></option>
               <option ng-value="branch.branchname">In</option>
               <option ng-value="branch.branchname">Out</option>
                
            </select>
        </div>
       
        
    </div>

    <div class="row">
        <!-- Half of the modal-body div-->
          <div class="col-xs-4" ng-show="chqvar">
            <h5>CHEQUE NO</h5>
 <input type="number" class="form-control" placeholder="Cheque No" aria-label="Recipient's username" aria-describedby="basic-addon2" ng-model="selected_chequeno">
           
        </div>

        <div class="col-xs-4" ng-show="cashvar">
            <h5>CASH AMOUNT</h5>
 <input type="number" class="form-control" placeholder="AMOUNT" aria-label="Recipient's username" aria-describedby="basic-addon2" ng-model="selected_cashamount">
           
        </div>
        <div class="col-xs-4" ng-show="chqvar">
            <h5>CHEQUE DATE</h5>

             <datepicker date-format="dd-MM-yyyy">
                   <input  type="text" class="form-control" placeholder="Date" aria-label="Recipient's username" aria-describedby="basic-addon2" ng-model="seleced_chqdate">
                </datepicker>

            </div>

            <div class="col-xs-4">
            <h5>ENTRY DATE</h5>

             <datepicker date-format="dd-MM-yyyy">
                   <input  type="text" class="form-control" placeholder="Date" aria-label="Recipient's username" aria-describedby="basic-addon2" ng-model="seleced_date">
                </datepicker>

            </div>

        <!-- Other half of the modal-body div-->
        
    </div>



<div class="row" >
        <div class="col-xs-4" ng-show="chqvar">
            <h5>ACCOUNT HOLDER</h5>
            <div class="radio">
            <input type="text" class="form-control" placeholder="Holder Name" aria-label="Recipient's username" aria-describedby="basic-addon2" ng-model="selected_holdername">
            </div>
        </div>
        <!-- Half of the modal-body div-->
          <div class="col-xs-4" ng-show="chqvar">
           <h5>TOTAL AMOUNT</h5>
            <div class="radio">
      <input type="number" class="form-control" placeholder="TOTAL AMOUNT" aria-label="Recipient's username" aria-describedby="basic-addon2" ng-model="selected_totalamount">
            </div>
        </div>
        <!-- Other half of the modal-body div-->
        <div class="col-xs-4">
            <h5>DESCRIPTION</h5>
            <div class="radio">
      <input type="text" class="form-control" placeholder="DESCRIPTION" aria-label="Recipient's username" aria-describedby="basic-addon2" ng-model="description">


            </div>
        </div>
    </div>

 
     
 


      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">CLOSE</button>
        <button type="button" class="btn btn-primary" ng-click="addpassbookpayment()">ADD</button>
      </div>
    </div>
  </div>
</div>





<!--model for all payment for staff having all ccount no-->
<div class="modal fade" id="modellogin" tabindex="-1" role="dialog" aria-labelledby="modelloginLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="modelcreditdebitLabel"><center> <p class="bg-primary">INITIAL AMOUNT</p></center></h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="recipient-name" class="form-control-label">USERNAME</label>
            <input type="text" class="form-control" placeholder="username" ng-model="uname" required="">
          </div>
          <div class="form-group">
            <label for="recipient-name" class="form-control-label">PASSWORD</label>
            <input type="password" class="form-control" placeholder="password" ng-model="upass" required="">
          </div>
          <div class="form-group">
            <label for="recipient-name" class="form-control-label">INITIAL AMOUNT</label>
            <input type="number" class="form-control" placeholder="inital amount" ng-model="balance" required="">
          </div>
          
          

        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" ng-click="addBalance(uname,upass,balance)">Set Balance</button>
      </div>
    </div>
  </div>
</div>



<!--add chq-->
<div class="modal fade" id="chequassignentry" tabindex="-1" role="dialog" aria-labelledby="chequassignentryLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="chequassignentryLabel"><center> <p class="bg-primary">ASSIGN CHEQUE</p></center></h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
 
     <div class="row">
        
       
         
        <!-- Other half of the modal-body div-->
        <div class="col-xs-3">
            <h5>SATFF NAME</h5>
         <input type="text" class="form-control" placeholder="name" aria-label="Recipient's username" aria-describedby="basic-addon2" ng-model="staffnameassign">
             
        </div>

        <div class="col-xs-3">
            <h5>START CHEQUE NO</h5>

          <input type="number" class="form-control" placeholder="amount" aria-label="Recipient's username" aria-describedby="basic-addon2" ng-model="startchqno">
        </div>


        <div class="col-xs-3">
            <h5>END CHEQUE NO</h5>

          <input type="number" class="form-control" placeholder="amount" aria-label="Recipient's username" aria-describedby="basic-addon2" ng-model="endchqno">
        </div>
 
         <div class="col-xs-3">
            <h5>OPERATION</h5>
             <button type="button" class="btn btn-primary" ng-click="assignrecords()">ADD</button>
              <button type="button" class="btn btn-danger" ng-click="clearchqdata()">CLEAR</button>
        </div>
 

    </div>

<div>
    <table style="margin-top:30px" st-set-filter="customFilter" st-table="advancecolleciton" st-safe-src="chequecollections"  class="table table-condensed table-bordered table-striped" > 
      <thead>
      <tr style="color: white;background-color: #1e59fc">
        <th ng-repeat="head in chequeheaders" st-sort="{{head}}">
          {{head|titlecase}} 
        </th>
        <th>OPERATION</th>
        
      </tr>


 
      </thead>
      <tbody>
        <tr ng-repeat="rec in advancecolleciton">
          <td ng-repeat="head in chequeheaders"><input class="form-control input-sm" type="text" ng-model='rec[head]'></td> 
          <td> 
            <button type="button" ng-click='deleteassignchq(rec)' class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-remove"></button></td>
      </tr>
      </tbody>

      <tfoot>
        
        <tr>
        <td colspan="{{chequeheaders.length}}" class="text-center">
          <div st-pagination="" st-items-by-page="itemsByPage"></div>
        </td>
      </tr>
      </tfoot>

      </table>
    </div>

   
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">CLOSE</button>
        <button ng-show="addvar" type="button" class="btn btn-primary" ng-click="addadvance()">UPDATE</button>
      </div>
    </div>
  </div>
</div>






<script>
    $(document).ready(function(){
      $('#sidebarCollapse').on('click', function () {
       $('#sidebar').toggleClass('active');
       $('#main').toggleClass('active');
     });
    });
  </script>